# Finallica Backend Environment Configuration

# ============================================
# AI PROVIDER CONFIGURATION
# ============================================

# Default AI Provider (anthropic, openai, openrouter, groq)
AI_PROVIDER=anthropic

# Default Model (examples below)
# Anthropic: claude-sonnet-4-20250514, claude-3-5-sonnet-20241022, claude-3-5-haiku-20241022
# OpenAI: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo
# OpenRouter: anthropic/claude-sonnet-4, openai/gpt-4o, google/gemini-pro-1.5
# Groq: llama-3.3-70b-versatile, llama-3.1-70b-versatile, mixtral-8x7b-32768
AI_MODEL=claude-3-5-sonnet-20241022

# ============================================
# API KEYS
# ============================================

# Anthropic Claude API Keys
# Single key:
# ANTHROPIC_API_KEY=sk-ant-xxxxx
# Multiple keys (comma-separated for load balancing):
ANTHROPIC_API_KEYS=sk-ant-xxxxx,sk-ant-yyyyy,sk-ant-zzzzz

# OpenAI API Keys
# OPENAI_API_KEY=sk-proj-xxxxx
OPENAI_API_KEYS=sk-proj-xxxxx,sk-proj-yyyyy

# OpenRouter API Keys
# OPENROUTER_API_KEY=sk-or-xxxxx
OPENROUTER_API_KEYS=sk-or-xxxxx,sk-or-yyyyy

# Groq API Keys (free tier available)
# GROQ_API_KEY=gsk_xxxxx
GROQ_API_KEYS=gsk_xxxxx,gsk_yyyyy

# ============================================
# SERVER CONFIGURATION
# ============================================

# Port configuration
PORT=3000

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:8080,http://localhost:3000

# ============================================
# GIT CONFIGURATION
# ============================================

# Git author for commits
GIT_AUTHOR=Finallica System
GIT_EMAIL=system@finallica.io

# ============================================
# CONSENSUS CONFIGURATION
# ============================================

# Voting period (milliseconds)
VOTING_PERIOD=604800000

# Quorum percentage (0-1)
QUORUM_PCT=0.67

# Minimum stakes
MIN_STAKE_PROPOSAL=1000
MIN_STAKE_VR=500000
MIN_STAKE_SE=2000000

# ============================================
# PRIVACY CONFIGURATION (Tornado Cash Integration)
# ============================================

# Enable privacy features (true/false)
PRIVACY_ENABLED=false

# Ethereum RPC URL (for interacting with Tornado Cash contracts)
RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY

# Finallica Privacy Router Contract Address
PRIVACY_ROUTER_ADDRESS=0x...

# Relayer URL (optional - for private withdrawals)
# If not provided, users must withdraw directly (less private)
RELAYER_URL=https://relayer.finallica.io

# ============================================
# TORNADO CASH INSTANCES
# ============================================

# Mainnet Tornado Cash Instance Addresses
# Get latest addresses from: https://docs.tornado.ws/

# ETH Pools
TORNADO_ETH_0_1=0x...
TORNADO_ETH_1=0x...
TORNADO_ETH_10=0x...
TORNADO_ETH_100=0x...

# USDC Pool (Ethereum mainnet)
TORNADO_USDC_100=0x...

# ============================================
# CUSTOM BLF PRIVACY POOLS
# ============================================

# BLF Token Privacy Pools (deploy separately for Finallica)
# These are custom Tornado instances configured for BLF token
TORNADO_BLF_100=0x...
TORNADO_BLF_1000=0x...
TORNADO_BLF_10000=0x...

# ============================================
# TOKEN ADDRESSES
# ============================================

# BLF Governance Token Address
BLF_TOKEN_ADDRESS=0x...

# USDC Token Address (Ethereum mainnet)
USDC_ADDRESS=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48

# USDT Token Address (Ethereum mainnet)
USDT_ADDRESS=0xdAC17F958D2ee523a2206206994597C13D831ec7

# ============================================
# AGENT FLEET CONFIGURATION
# ============================================

# Enable agent fleet system (true/false)
AGENT_FLEET_ENABLED=true

# Auto-start fleet when server starts
AGENT_FLEET_AUTO_START=true

# Agent types to auto-start (comma-separated)
# Options: code_review, documentation, debugger, governance, repo_manager, tooling, visualization, cost_observability
AGENT_FLEET_DEFAULT_AGENTS=code_review,documentation,repo_manager,cost_observability

# Maximum concurrent agents
AGENT_CONCURRENT_LIMIT=5

# Task queue polling interval (milliseconds)
AGENT_SCHEDULER_POLLING_INTERVAL=5000

# Maximum task retry attempts
AGENT_MAX_RETRIES=3

# Stale task threshold (seconds) - tasks longer than this are considered stale
AGENT_STALE_TASK_THRESHOLD=1800

# ============================================
# AGENT API KEY POOLS
# ============================================

# Default API keys (for general agent use)
DEFAULT_API_KEYS=sk-ant-xxxxx,sk-ant-yyyyy

# Critical agent keys (for high-priority agents like governance)
CRITICAL_API_KEYS=sk-ant-opus-only

# Agent-specific keys (for background agents)
AGENTS_API_KEYS=sk-ant-xxxxx,sk-ant-yyyyy

# ============================================
# AGENT BUDGET LIMITS (USD)
# ============================================

# Default daily budget for entire fleet
BUDGET_DEFAULT_DAILY=50

# Default hourly budget per agent
BUDGET_AGENT_HOURLY=10

# Budget alert threshold (percentage 0-100)
BUDGET_ALERT_THRESHOLD=80

# Budget period (hourly, daily, weekly, monthly)
BUDGET_DEFAULT_PERIOD=daily

# ============================================
# DEV MODE DETECTION
# ============================================

# Activity threshold (number of events) to trigger dev mode
DEV_MODE_ACTIVITY_THRESHOLD=3

# Time window (minutes) for activity detection
DEV_MODE_WINDOW_MINUTES=5

# Watched project paths (comma-separated, defaults to current directory)
DEV_MODE_WATCH_PATHS=.

# ============================================
# AGENT MODEL ASSIGNMENTS
# ============================================

# Code Review Agent Model
AGENT_CODE_REVIEW_MODEL=claude-sonnet-4-20250514

# Documentation Agent Model
AGENT_DOCUMENTATION_MODEL=claude-3-5-sonnet-20241022

# Debugger Agent Model
AGENT_DEBUGGER_MODEL=claude-sonnet-4-20250514

# Governance Agent Model
AGENT_GOVERNANCE_MODEL=claude-opus-4-20251101

# Repo Manager Agent Model
AGENT_REPO_MANAGER_MODEL=claude-3-5-sonnet-20241022

# Tooling Agent Model
AGENT_TOOLING_MODEL=claude-3-5-haiku-20241022

# Visualization Agent Model
AGENT_VISUALIZATION_MODEL=claude-3-5-sonnet-20241022

# Cost & Observability Agent Model
AGENT_COST_OBSERVABILITY_MODEL=claude-3-5-haiku-20241022

# ============================================
# COST TRACKING & OBSERVABILITY
# ============================================

# Enable cost tracking
COST_TRACKING_ENABLED=true

# Cost anomaly detection threshold (0-1)
COST_ANOMALY_THRESHOLD=0.5

# Observability retention period (days)
OBSERVABILITY_RETENTION_DAYS=30

# Alert channels (comma-separated: websocket, email, webhook)
ALERT_CHANNELS=websocket

# Webhook URL for alerts
ALERT_WEBHOOK_URL=

# ============================================
# CLI CONFIGURATION
# ============================================

# API endpoint for CLI
AGENT_FLEET_API=http://localhost:3000

# Dashboard port
AGENT_DASHBOARD_PORT=3030
